% xelatex -synctex=1 -interaction=nonstopmode -output-driver="xdvipdfmx -V 5" %.tex

%% Version for one sided printing:
% margins: left 40mm, right 25mm, top and bottom 25mm
% (BUT LaTeX adds automaticly 1in)
% \openright makes following text start on right side of book
%\documentclass[12pt,a4paper]{report}
%\setlength\textwidth{145mm}
%\setlength\textheight{247mm}
%\setlength\oddsidemargin{15mm}
%\setlength\evensidemargin{15mm}
%\setlength\topmargin{0mm}
%\setlength\headsep{0mm}
%\setlength\headheight{0mm}
%\let\openright=\clearpage

%% Version for two sided printing:
\documentclass[12pt,a4paper,twoside,openright]{report}
\setlength\textwidth{145mm}
\setlength\textheight{247mm}
\setlength\oddsidemargin{15mm}
\setlength\evensidemargin{0mm}
\setlength\topmargin{0mm}
\setlength\headsep{0mm}
\setlength\headheight{0mm}
\let\openright=\cleardoublepage

%\usepackage[utf8]{inputenc}
\usepackage[czech,english]{babel}
%\usepackage[T1]{fontenc}
%\usepackage[american]{babel}

\usepackage{fontspec}
\newfontfamily\consolas{Consolas}
%\defaultfontfeatures{Mapping=tex-text}
%\setmonofont{Consolas}
%\usepackage{xunicode}
%\usepackage{xltxtra}


\usepackage{comment}
%\usepackage{setspace}
%\usepackage{parskip}

\usepackage{subfig}
\usepackage{wrapfig}
\usepackage{graphicx}
%\usepackage{amsthm}
\usepackage{booktabs}  % nicer tables
\usepackage[bottom]{footmisc}  % footnotes at the bottom of page

\usepackage[titletoc]{appendix}

\usepackage{tikz}
\usetikzlibrary{positioning,shapes,arrows,trees}
\usetikzlibrary{decorations.pathmorphing} % for snake lines

\tikzstyle{block} = [draw, fill=blue!20, rectangle, minimum height=3em, minimum width=6em]
\tikzstyle{blockx} = [draw, fill=green!20, rectangle, minimum height=3em, minimum width=6em]
\tikzstyle{coord} = [coordinate]
\tikzstyle{snakeline} = [decorate, decoration={pre length=0mm, post length=1mm, snake, amplitude=1mm, segment length=3mm}, ->]


\usepackage[autostyle]{csquotes}
\usepackage{xspace}

\usepackage[
	backend=biber,
	style=alphabetic,
	backref=true,
%	backrefstyle=all+,
	natbib=true,
	url=false,  % url field of @online entries is always printed
	doi=false,
	eprint=false
]{biblatex}
\renewcommand{\labelalphaothers}{*}
\addbibresource{bibliography.bib}

\usepackage{color}
\definecolor{linkClr}{RGB}{64,0,0}  % dark red
\definecolor{citeClr}{RGB}{0,64,0}  % dark green
\definecolor{urlClr}{RGB}{0,0,64}  % dark blue

\usepackage{listings}  % \lstlisting enviroment - source code highliting


\usepackage{syntaxHighlighters}  % needs packages color and listings

\usepackage{hyperref}  % after all other packages
\hypersetup{
	%unicode=true,
	pdftitle=L-systems online,
	pdfauthor=Marek Fišer,
	pdfkeywords={L-system}{generator}{online}{universal}{library},
	colorlinks=true,
	linkcolor=linkClr,
	citecolor=citeClr,
	urlcolor=urlClr
}

%%% Little tweaks

% These macros remove white space above headers of chapters.
\makeatletter
\def\@makechapterhead#1{
  {\parindent \z@ \raggedright \normalfont
   \Huge\bfseries \thechapter. #1
   \par\nobreak
   \vskip 20\p@
}}
\def\@makeschapterhead#1{
  {\parindent \z@ \raggedright \normalfont
   \Huge\bfseries #1
   \par\nobreak
   \vskip 20\p@
}}
\makeatother

% Definition of chapter macro for chapters that are not numbered but they are in TOC.
\def\chapwithtoc#1{
\chapter*{#1}
\addcontentsline{toc}{chapter}{#1}
}

% default path for graphics
\graphicspath{{img/}}

% macros for L-system to avoid hyphenation of it.
\newcommand{\lsystem}{\mbox{L-system}\xspace}
\newcommand{\lsystems}{\mbox{L-systems}\xspace}


% less spavec in lists
\newenvironment{itemize*}
	{\begin{itemize}
		%\setlength{\itemsep}{0pt}
		\setlength{\parskip}{0pt}}
	{\end{itemize}}
\newenvironment{enumerate*}
	{\begin{enumerate}\setlength{\parskip}{0pt}}
	{\end{enumerate}}
\newenvironment{description*}
	{\begin{description}\setlength{\parskip}{0pt}}
	{\end{description}}

% do not break in paragraph
%\widowpenalties 1 10000
\raggedbottom

\renewcommand{\lstlistingname}{Source code}
\renewcommand{\lstlistlistingname}{List of source codes}

% debugging
\includeonly{design}


\begin{document}

\include{frontpage}

%%% Následuje vevázaný list -- kopie podepsaného "Zadání bakalářské práce".
%%% Toto zadání NENÍ součástí elektronické verze práce, nescanovat.

\openright
\include{thanks}

\include{abstract}
%\include{abstractcz}

\openright
\pagestyle{plain}
\setcounter{page}{1}
\tableofcontents


\include{introduction}

\include{lsystems}
\include{design}
\include{implementation}
\include{results}

\include{conclusion}

\nocite{*}  % Show all Bib-entries
\printbibliography

%\addcontentsline{toc}{chapter}{List of Figures}
%\listoffigures

%\addcontentsline{toc}{chapter}{List of Tables}
%\listoftables

%\addcontentsline{toc}{chapter}{List of source codes}
%\lstlistoflistings


\openright
\begin{appendices}

\include{apx-attachedCd}
\include{apx-inputSyntax}
\include{apx-aboutFigures}
\include{apx-components}

\end{appendices}


\end{document}
